**Echlub MVP 應對策略與技術方案記錄 (2025-05-08)**

**一、 面臨的核心挑戰與壓力源：**

1. **學分高度綁定：** 共 9 學分（來自三門不同課程）的成績完全依賴於 Echlub 相關項目的最終交付成果。
    
2. **跨技術棧要求：**
    
    - 主體項目 Echlub 為 Web 技術棧 (Golang, React, TS/JS, WebRTC, Tone.js)。
        
    - 其中一門課要求實現 **AR 功能**。
        
    - 另一門課要求使用 **Java/Kotlin 進行 Android 行動裝置開發**。
        
3. **個人狀態波動：** 憂鬱症狀導致精力與動力不穩定，難以維持高強度、持續的開發投入。
    
4. **時間限制：** 距離最終 Demo/繳交日期 (預計 6 月初) 時間非常緊迫。
    
5. **潛在的技術難點：** WebRTC 的穩定性與同步、AR 開發的學習曲線、原生與 Web 混合開發的複雜性等。
    

**二、 整體應對策略：生存模式，聚焦核心，降低風險**

1. **最高目標：** 確保與這 9 學分相關的三門課程**都能達到最低及格標準**。功能的完善度、代碼的優雅性、架構的完美性均為次要目標。
    
2. **核心手段：**
    
    - **極度簡化範圍 (Ruthless Prioritization)：** 砍掉所有非必需功能，專注於滿足各門課核心考察點的最小功能集。
        
    - **積極溝通，尋求彈性：** 立刻、反覆與三位授課老師溝通，明確最低要求，尋求替代方案或彈性空間。
        
    - **解耦與分治：** 將不同課程的要求盡可能分離處理，避免單點失敗導致全局崩潰。
        
    - **風險規避：** 選擇技術上最成熟、最熟悉、實現最快、風險最低的方案。
        
    - **接受不完美：** 允許技術債、不夠優雅的設計存在，以確保按時交付「可演示」的成果。
        
    - **自我關懷：** 在高壓下更要關注身心健康，允許休息和狀態波動。
        

**三、 針對各課程要求的具體方案建議：**

**A. 行動裝置 Java 課 與 AR 課 的整合應對方案：**

- **核心策略：** 開發一個**獨立的、極簡化的原生 Android App (使用 Java/Kotlin)**，該 App **融合基礎的 AR 功能**，並與 Echlub 的成果（Jam 結果）產生概念上的聯繫。**放棄將 AR 功能直接集成到 Web 版 Echlub 或其 WebView 版本的複雜想法。**
    
- **建議技術選型 (前提：老師不強制要求 Vuforia)：**
    
    - **AR 引擎：Google ARCore** (官方、主流、資源豐富)
        
        - **追蹤方式：** **優先考慮平面檢測 (Plane Detection)**，因為最簡單可靠。如果老師明確要求或強烈建議，再考慮圖像追蹤 (Augmented Images，追蹤 QR Code)。
            
    - **3D 渲染/場景：Sceneform (社區維護版)** (大幅簡化 ARCore 使用和 3D 模型加載)。
        
    - **QR Code 掃描 (解碼數據)：Google ML Kit Barcode Scanning** 或 **ZXing**。
        
    - **網絡請求：OkHttp**。
        
    - **JSON 解析：Gson** 或 **Moshi**。
        
    - **異步處理：Kotlin Coroutines** (若用 Kotlin) 或 **Java ExecutorService**。
        
    - **3D 模型：使用預設的、優化好的 GLB 模型** (放棄用戶上傳功能！)。
        
- **核心實現流程 (以平面檢測為例)：**
    
    1. (Web Echlub) Jam 結束後生成包含結果數據的 JSON 和一個指向該數據的 URL/ID。將 URL/ID 編碼為 QR Code。
        
    2. (Android App) 啟動 App，進入 AR 相機模式。
        
    3. (Android App) 使用 ML Kit/ZXing 掃描並解碼 QR Code，獲取 URL/ID。
        
    4. (Android App) 使用 OkHttp 從後端下載對應的 Jam 結果 JSON 和預錄製的混音音頻文件。
        
    5. (Android App) 使用 Gson/Moshi 解析 JSON。
        
    6. (Android App) 使用 ARCore 檢測水平面。
        
    7. (Android App) 監聽用戶點擊平面的事件。
        
    8. (Android App) 在點擊位置創建錨點，使用 Sceneform 加載**預設的** 3D 模型並放置在錨點上。
        
    9. (Android App) 使用 MediaPlayer 播放下載的混音音頻。
        
    10. **(可選增強)** 在步驟 4-8 之間，顯示簡單的 2D 粒子效果 (用 Android View 實現) 作為加載反饋。
        
- **與老師的溝通重點：** 確認此獨立 App 方案是否滿足兩門課的要求？確認 AR 部分的最低要求（平面檢測是否足夠？模型是否需要動畫？）。確認是否接受使用預設模型。
    

**B. Web 版 Echlub 的調整 (針對剩餘課程要求)：**

- **目標：** 滿足剩餘課程的核心要求（例如後端架構、前端交互、WebRTC 等）。
    
- **策略：**
    
    - **極度簡化前端架構：** 放棄嚴格的 Clean Architecture + DDD 四層，採用更快速實現的 React 模式（除非老師明確要求檢查前端架構）。
        
    - **聚焦核心流程：** 確保用戶登錄、創建/加入房間、基本 P2P 信令（用於狀態同步，即使音視頻先降級）、基礎時間線交互、單流 Opus 錄音/播放（WebRTC）的核心流程能跑通並演示。
        
    - **砍掉非核心功能：** 事件審計、複雜的 Metrics API、PublicShare 的完善功能等，如果不是課程核心要求，可以大幅簡化或移除。
        
    - **降規預案常備：** WebRTC 不穩定立刻切換 WebSocket Relay；播放不同步用房主時鐘校準。
        
    - **後端：** 確保 Collaboration 和 JamSession 的核心 API 能支持前端 Demo 即可。
        
    - **增加「生成結果 JSON 和 QR Code」的功能** 以支持行動 App 的流程。
        

**四、 近期行動計劃：**

1. **立即溝通：** 與三位老師分別進行緊急溝通，明確各課程最低要求，並提出上述整合/簡化方案尋求認可。**這是最高優先級！**
    
2. **鎖定範圍：** 根據老師反饋，最終確定 Web 版和 Android 版各自的「最小可行性」功能範圍。
    
3. **重新排期：** 制定一個考慮到兩個項目並行、個人狀態波動、且有一定緩衝的開發時間表。
    
4. **任務分解：** 將兩個項目的任務都分解到極其微小的步驟。
    
5. **執行與迭代：** 從最核心、風險最高的部分開始（例如 ARCore/Vuforia 的基礎集成、WebRTC 的基本連接），小步快跑，持續集成。
    
6. **尋求支持：** 不要猶豫尋求老師、同學、線上社群和心理健康專業人士的幫助。